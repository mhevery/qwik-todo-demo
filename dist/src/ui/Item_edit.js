/**
 * @license
 * Copyright BuilderIO All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/BuilderIO/qwik/blob/main/LICENSE
 */
import { injectEventHandler, markDirty, provideUrlProp, provideQrlExp, provideEntity, } from '../qwik.js';
import { ItemComponent } from './Item_component.js';
export const begin = injectEventHandler(ItemComponent, //
async function () {
    this.editing = true;
    markDirty(this);
});
export const change = injectEventHandler(ItemComponent, //
provideQrlExp('value'), provideQrlExp('code'), provideEntity(provideUrlProp('itemKey')), // TODO fix cast
async function (inputValue, charCode, itemEntity) {
    if (charCode === 'Enter') {
        itemEntity.$state.title = inputValue;
        markDirty(itemEntity);
        this.editing = false;
        markDirty(this);
    }
    else if (charCode === 'Escape') {
        this.editing = false;
        markDirty(this);
    }
});
export const end = injectEventHandler(ItemComponent, //
async function () {
    this.editing = false;
    markDirty(this);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSXRlbV9lZGl0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvdWkvSXRlbV9lZGl0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7R0FNRztBQUlILE9BQU8sRUFDTCxrQkFBa0IsRUFDbEIsU0FBUyxFQUNULGNBQWMsRUFDZCxhQUFhLEVBQ2IsYUFBYSxHQUNkLE1BQU0sWUFBWSxDQUFDO0FBQ3BCLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUVwRCxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsa0JBQWtCLENBQ3JDLGFBQWEsRUFBRSxFQUFFO0FBQ2pCLEtBQUs7SUFDSCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztJQUNwQixTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbEIsQ0FBQyxDQUNGLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsa0JBQWtCLENBQ3RDLGFBQWEsRUFBRSxFQUFFO0FBQ2pCLGFBQWEsQ0FBUyxPQUFPLENBQUMsRUFDOUIsYUFBYSxDQUFTLE1BQU0sQ0FBQyxFQUM3QixhQUFhLENBQWEsY0FBYyxDQUFDLFNBQVMsQ0FBMkMsQ0FBQyxFQUFFLGdCQUFnQjtBQUNoSCxLQUFLLFdBRUgsVUFBa0IsRUFDbEIsUUFBZ0IsRUFDaEIsVUFBc0I7SUFFdEIsSUFBSSxRQUFRLEtBQUssT0FBTyxFQUFFO1FBQ3hCLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQztRQUNyQyxTQUFTLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDckIsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2pCO1NBQU0sSUFBSSxRQUFRLEtBQUssUUFBUSxFQUFFO1FBQ2hDLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3JCLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNqQjtBQUNILENBQUMsQ0FDRixDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLGtCQUFrQixDQUNuQyxhQUFhLEVBQUUsRUFBRTtBQUNqQixLQUFLO0lBQ0gsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7SUFDckIsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2xCLENBQUMsQ0FDRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IEJ1aWxkZXJJTyBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZSBsaWNlbnNlIHRoYXQgY2FuIGJlXG4gKiBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9CdWlsZGVySU8vcXdpay9ibG9iL21haW4vTElDRU5TRVxuICovXG5cbmltcG9ydCB7IEl0ZW1FbnRpdHkgfSBmcm9tICcuLi9kYXRhL0l0ZW0uanMnO1xuaW1wb3J0IHsgUHJvdmlkZXIsIEVudGl0eUtleSB9IGZyb20gJy4uL3F3aWsuanMnO1xuaW1wb3J0IHtcbiAgaW5qZWN0RXZlbnRIYW5kbGVyLFxuICBtYXJrRGlydHksXG4gIHByb3ZpZGVVcmxQcm9wLFxuICBwcm92aWRlUXJsRXhwLFxuICBwcm92aWRlRW50aXR5LFxufSBmcm9tICcuLi9xd2lrLmpzJztcbmltcG9ydCB7IEl0ZW1Db21wb25lbnQgfSBmcm9tICcuL0l0ZW1fY29tcG9uZW50LmpzJztcblxuZXhwb3J0IGNvbnN0IGJlZ2luID0gaW5qZWN0RXZlbnRIYW5kbGVyKFxuICBJdGVtQ29tcG9uZW50LCAvL1xuICBhc3luYyBmdW5jdGlvbiAodGhpczogSXRlbUNvbXBvbmVudCkge1xuICAgIHRoaXMuZWRpdGluZyA9IHRydWU7XG4gICAgbWFya0RpcnR5KHRoaXMpO1xuICB9XG4pO1xuXG5leHBvcnQgY29uc3QgY2hhbmdlID0gaW5qZWN0RXZlbnRIYW5kbGVyKFxuICBJdGVtQ29tcG9uZW50LCAvL1xuICBwcm92aWRlUXJsRXhwPHN0cmluZz4oJ3ZhbHVlJyksXG4gIHByb3ZpZGVRcmxFeHA8c3RyaW5nPignY29kZScpLFxuICBwcm92aWRlRW50aXR5PEl0ZW1FbnRpdHk+KHByb3ZpZGVVcmxQcm9wKCdpdGVtS2V5JykgYXMgYW55IGFzIFByb3ZpZGVyPEVudGl0eUtleTxJdGVtRW50aXR5Pj4pLCAvLyBUT0RPIGZpeCBjYXN0XG4gIGFzeW5jIGZ1bmN0aW9uIChcbiAgICB0aGlzOiBJdGVtQ29tcG9uZW50LFxuICAgIGlucHV0VmFsdWU6IHN0cmluZyxcbiAgICBjaGFyQ29kZTogc3RyaW5nLFxuICAgIGl0ZW1FbnRpdHk6IEl0ZW1FbnRpdHlcbiAgKSB7XG4gICAgaWYgKGNoYXJDb2RlID09PSAnRW50ZXInKSB7XG4gICAgICBpdGVtRW50aXR5LiRzdGF0ZS50aXRsZSA9IGlucHV0VmFsdWU7XG4gICAgICBtYXJrRGlydHkoaXRlbUVudGl0eSk7XG4gICAgICB0aGlzLmVkaXRpbmcgPSBmYWxzZTtcbiAgICAgIG1hcmtEaXJ0eSh0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGNoYXJDb2RlID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5lZGl0aW5nID0gZmFsc2U7XG4gICAgICBtYXJrRGlydHkodGhpcyk7XG4gICAgfVxuICB9XG4pO1xuXG5leHBvcnQgY29uc3QgZW5kID0gaW5qZWN0RXZlbnRIYW5kbGVyKFxuICBJdGVtQ29tcG9uZW50LCAvL1xuICBhc3luYyBmdW5jdGlvbiAodGhpczogSXRlbUNvbXBvbmVudCkge1xuICAgIHRoaXMuZWRpdGluZyA9IGZhbHNlO1xuICAgIG1hcmtEaXJ0eSh0aGlzKTtcbiAgfVxuKTtcbiJdfQ==