"use strict";
/**
 * @license
 * Copyright BuilderIO All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/BuilderIO/qwik/blob/main/LICENSE
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.end = exports.change = exports.begin = void 0;
const qwik_js_1 = require("../qwik.js");
const Item_component_js_1 = require("./Item_component.js");
exports.begin = qwik_js_1.injectEventHandler(Item_component_js_1.ItemComponent, //
async function () {
    this.editing = true;
    qwik_js_1.markDirty(this);
});
exports.change = qwik_js_1.injectEventHandler(Item_component_js_1.ItemComponent, //
qwik_js_1.provideQrlExp('value'), qwik_js_1.provideQrlExp('code'), qwik_js_1.provideEntity(qwik_js_1.provideUrlProp('itemKey')), // TODO fix cast
async function (inputValue, charCode, itemEntity) {
    if (charCode === 'Enter') {
        itemEntity.$state.title = inputValue;
        qwik_js_1.markDirty(itemEntity);
        this.editing = false;
        qwik_js_1.markDirty(this);
    }
    else if (charCode === 'Escape') {
        this.editing = false;
        qwik_js_1.markDirty(this);
    }
});
exports.end = qwik_js_1.injectEventHandler(Item_component_js_1.ItemComponent, //
async function () {
    this.editing = false;
    qwik_js_1.markDirty(this);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSXRlbV9lZGl0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvdWkvSXRlbV9lZGl0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7O0dBTUc7OztBQUlILHdDQU1vQjtBQUNwQiwyREFBb0Q7QUFFdkMsUUFBQSxLQUFLLEdBQUcsNEJBQWtCLENBQ3JDLGlDQUFhLEVBQUUsRUFBRTtBQUNqQixLQUFLO0lBQ0gsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDcEIsbUJBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNsQixDQUFDLENBQ0YsQ0FBQztBQUVXLFFBQUEsTUFBTSxHQUFHLDRCQUFrQixDQUN0QyxpQ0FBYSxFQUFFLEVBQUU7QUFDakIsdUJBQWEsQ0FBUyxPQUFPLENBQUMsRUFDOUIsdUJBQWEsQ0FBUyxNQUFNLENBQUMsRUFDN0IsdUJBQWEsQ0FBYSx3QkFBYyxDQUFDLFNBQVMsQ0FBMkMsQ0FBQyxFQUFFLGdCQUFnQjtBQUNoSCxLQUFLLFdBRUgsVUFBa0IsRUFDbEIsUUFBZ0IsRUFDaEIsVUFBc0I7SUFFdEIsSUFBSSxRQUFRLEtBQUssT0FBTyxFQUFFO1FBQ3hCLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLFVBQVUsQ0FBQztRQUNyQyxtQkFBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3RCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3JCLG1CQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDakI7U0FBTSxJQUFJLFFBQVEsS0FBSyxRQUFRLEVBQUU7UUFDaEMsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDckIsbUJBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNqQjtBQUNILENBQUMsQ0FDRixDQUFDO0FBRVcsUUFBQSxHQUFHLEdBQUcsNEJBQWtCLENBQ25DLGlDQUFhLEVBQUUsRUFBRTtBQUNqQixLQUFLO0lBQ0gsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7SUFDckIsbUJBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNsQixDQUFDLENBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBCdWlsZGVySU8gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGUgbGljZW5zZSB0aGF0IGNhbiBiZVxuICogZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBhdCBodHRwczovL2dpdGh1Yi5jb20vQnVpbGRlcklPL3F3aWsvYmxvYi9tYWluL0xJQ0VOU0VcbiAqL1xuXG5pbXBvcnQgeyBJdGVtRW50aXR5IH0gZnJvbSAnLi4vZGF0YS9JdGVtLmpzJztcbmltcG9ydCB7IFByb3ZpZGVyLCBFbnRpdHlLZXkgfSBmcm9tICcuLi9xd2lrLmpzJztcbmltcG9ydCB7XG4gIGluamVjdEV2ZW50SGFuZGxlcixcbiAgbWFya0RpcnR5LFxuICBwcm92aWRlVXJsUHJvcCxcbiAgcHJvdmlkZVFybEV4cCxcbiAgcHJvdmlkZUVudGl0eSxcbn0gZnJvbSAnLi4vcXdpay5qcyc7XG5pbXBvcnQgeyBJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi9JdGVtX2NvbXBvbmVudC5qcyc7XG5cbmV4cG9ydCBjb25zdCBiZWdpbiA9IGluamVjdEV2ZW50SGFuZGxlcihcbiAgSXRlbUNvbXBvbmVudCwgLy9cbiAgYXN5bmMgZnVuY3Rpb24gKHRoaXM6IEl0ZW1Db21wb25lbnQpIHtcbiAgICB0aGlzLmVkaXRpbmcgPSB0cnVlO1xuICAgIG1hcmtEaXJ0eSh0aGlzKTtcbiAgfVxuKTtcblxuZXhwb3J0IGNvbnN0IGNoYW5nZSA9IGluamVjdEV2ZW50SGFuZGxlcihcbiAgSXRlbUNvbXBvbmVudCwgLy9cbiAgcHJvdmlkZVFybEV4cDxzdHJpbmc+KCd2YWx1ZScpLFxuICBwcm92aWRlUXJsRXhwPHN0cmluZz4oJ2NvZGUnKSxcbiAgcHJvdmlkZUVudGl0eTxJdGVtRW50aXR5Pihwcm92aWRlVXJsUHJvcCgnaXRlbUtleScpIGFzIGFueSBhcyBQcm92aWRlcjxFbnRpdHlLZXk8SXRlbUVudGl0eT4+KSwgLy8gVE9ETyBmaXggY2FzdFxuICBhc3luYyBmdW5jdGlvbiAoXG4gICAgdGhpczogSXRlbUNvbXBvbmVudCxcbiAgICBpbnB1dFZhbHVlOiBzdHJpbmcsXG4gICAgY2hhckNvZGU6IHN0cmluZyxcbiAgICBpdGVtRW50aXR5OiBJdGVtRW50aXR5XG4gICkge1xuICAgIGlmIChjaGFyQ29kZSA9PT0gJ0VudGVyJykge1xuICAgICAgaXRlbUVudGl0eS4kc3RhdGUudGl0bGUgPSBpbnB1dFZhbHVlO1xuICAgICAgbWFya0RpcnR5KGl0ZW1FbnRpdHkpO1xuICAgICAgdGhpcy5lZGl0aW5nID0gZmFsc2U7XG4gICAgICBtYXJrRGlydHkodGhpcyk7XG4gICAgfSBlbHNlIGlmIChjaGFyQ29kZSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuZWRpdGluZyA9IGZhbHNlO1xuICAgICAgbWFya0RpcnR5KHRoaXMpO1xuICAgIH1cbiAgfVxuKTtcblxuZXhwb3J0IGNvbnN0IGVuZCA9IGluamVjdEV2ZW50SGFuZGxlcihcbiAgSXRlbUNvbXBvbmVudCwgLy9cbiAgYXN5bmMgZnVuY3Rpb24gKHRoaXM6IEl0ZW1Db21wb25lbnQpIHtcbiAgICB0aGlzLmVkaXRpbmcgPSBmYWxzZTtcbiAgICBtYXJrRGlydHkodGhpcyk7XG4gIH1cbik7XG4iXX0=